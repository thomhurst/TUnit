  Run tests: 'C:\git\TUnit\TUnit.Engine.Tests\bin\Release\net9.0\TUnit.Engine.Tests.dll' [net9.0|x64]
  
  ████████╗██╗   ██╗███╗   ██╗██╗████████╗
  ╚══██╔══╝██║   ██║████╗  ██║██║╚══██╔══╝
     ██║   ██║   ██║██╔██╗ ██║██║   ██║
     ██║   ██║   ██║██║╚██╗██║██║   ██║
     ██║   ╚██████╔╝██║ ╚████║██║   ██║
     ╚═╝    ╚═════╝ ╚═╝  ╚═══╝╚═╝   ╚═╝
  
     TUnit v1.0.0.0 | 64-bit | Microsoft Windows 10.0.26100 | win-x64 | .NET 9.0.9 | Microsoft Testing Platform v1.8.4
  
     Engine Mode: SourceGenerated
  
  [+0/x0/?0] TUnit.Engine.Tests.dll (net9.0|x64) - 4 tests running (3s)
  
  [+0/x0/?0] TUnit.Engine.Tests.dll (net9.0|x64) - 4 tests running (6s)
  
  [+2/x0/?0] TUnit.Engine.Tests.dll (net9.0|x64) - 2 tests running (9s)
  
  Mode: Reflection
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename c83bda3d23bc491896050dc085311a20.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-c83bda3d23bc491896050dc085311a20.dmp --hangdump-timeout 5m --reflection
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804564.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804892.diag
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypePerAssemblyFixture
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 27237168
  Scheduling execution of 1 tests
  Starting 1 parallel tests
  Initializing Static Property
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (548ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\c83bda3d23bc491896050dc085311a20.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 1s 885ms
  
  Mode: SourceGenerated
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename c7a314337e294fb5b2dec12186e89798.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-c7a314337e294fb5b2dec12186e89798.dmp --hangdump-timeout 5m
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804558.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804888.diag
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypePerAssemblyFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 17713017
  Scheduling execution of 1 tests
  Starting 1 parallel tests
  Initializing Static Property
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (563ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\c7a314337e294fb5b2dec12186e89798.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 2s 904ms
  
  [+2/x0/?0] TUnit.Engine.Tests.dll (net9.0|x64) - 2 tests running (12s)
  
  Mode: Reflection
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename f5b96c668b9847dc9c1e2a2c6a011593.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-f5b96c668b9847dc9c1e2a2c6a011593.dmp --hangdump-timeout 5m --reflection
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191808067.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191808410.diag
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypePerAssemblyFixture
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 6715097
  Scheduling execution of 1 tests
  Starting 1 parallel tests
  Initializing Static Property
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (549ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\f5b96c668b9847dc9c1e2a2c6a011593.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 1s 956ms
  
  [+2/x0/?0] TUnit.Engine.Tests.dll (net9.0|x64) - 2 tests running (15s)
  
  Mode: SourceGenerated
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 2983775147904be49cd823fc01413fde.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-2983775147904be49cd823fc01413fde.dmp --hangdump-timeout 5m
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191809066.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191809413.diag
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypePerAssemblyFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 3766656
  Scheduling execution of 1 tests
  Starting 1 parallel tests
  Initializing Static Property
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (556ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\2983775147904be49cd823fc01413fde.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 2s 948ms
  
  Mode: Reflection
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 174296c32c8949d9ad9aa257a18b3fda.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-174296c32c8949d9ad9aa257a18b3fda.dmp --hangdump-timeout 5m --reflection
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191811616.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191811937.diag
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypePerAssemblyFixture
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 42472704
  Scheduling execution of 1 tests
  Starting 1 parallel tests
  Initializing Static Property
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (546ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\174296c32c8949d9ad9aa257a18b3fda.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 1s 866ms
  
  [+2/x0/?0] TUnit.Engine.Tests.dll (net9.0|x64) - 2 tests running (18s)
  
  Mode: SourceGenerated
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 6acdfc03ed5a43b68491a6269401ff08.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-6acdfc03ed5a43b68491a6269401ff08.dmp --hangdump-timeout 5m
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191813535.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191813873.diag
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypePerAssemblyFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 62676156
  Scheduling execution of 1 tests
  Initializing Static Property
  Starting 1 parallel tests
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (569ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\6acdfc03ed5a43b68491a6269401ff08.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 2s 958ms
  
  failed AfterTestAttributeTests.Test (3s 368ms)
    TUnit.Engine.Exceptions.TestFailedException: Exception: Error asserting results for AfterTestAttributeTests: result => result.ResultSummary.Outcome
        should be
    "Completed"
        but was
    "Failed"
        difference
    Difference     |  |    |    |    |    |    |    |    |    |   
                   | \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  
    Index          | 0    1    2    3    4    5    6    7    8    
    Expected Value | C    o    m    p    l    e    t    e    d    
    Actual Value   | F    a    i    l    e    d                   
    Expected Code  | 67   111  109  112  108  101  116  101  100  
    Actual Code    | 70   97   105  108  101  100                 
    
    Expression: [
                    result => result.ResultSummary.Outcome.ShouldBe("Completed"),
                    result => result.ResultSummary.Counters.Total.ShouldBe(1),
                    result => result.ResultSummary.Counters.Passed.ShouldBe(1),
                    result => result.ResultSummary.Counters.Failed.ShouldBe(0),
                    result => result.ResultSummary.Counters.NotExecuted.ShouldBe(0),
                    _ => FindFile(x => x.Name.EndsWith("AfterTestAttributeTests.txt")).AssertExists()
                ]
    --->  Shouldly.ShouldAssertException: result => result.ResultSummary.Outcome
        should be
    "Completed"
        but was
    "Failed"
        difference
    Difference     |  |    |    |    |    |    |    |    |    |   
                   | \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  
    Index          | 0    1    2    3    4    5    6    7    8    
    Expected Value | C    o    m    p    l    e    t    e    d    
    Actual Value   | F    a    i    l    e    d                   
    Expected Code  | 67   111  109  112  108  101  116  101  100  
    Actual Code    | 70   97   105  108  101  100                 
      at TUnit.Engine.Tests.AfterTestAttributeTests.<>c.<Test>b__1_0(TestRun result) in C:\git\TUnit\TUnit.Engine.Tests\AfterTestAttributeTests.cs:15
      at TUnit.Engine.Tests.TrxAsserter.<>c__DisplayClass0_1.<AssertTrx>b__1(Action`1 x) in C:\git\TUnit\TUnit.Engine.Tests\TrxAsserter.cs:23
      at System.Collections.Generic.List`1.ForEach(Action`1 action)
      at TUnit.Engine.Tests.TrxAsserter.AssertTrx(TestMode testMode, Command command, BufferedCommandResult commandResult, List`1 assertions, String trxFilename, String assertionExpression) in C:\git\TUnit\TUnit.Engine.Tests\TrxAsserter.cs:23
    Standard output
      Mode: Reflection
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename c83bda3d23bc491896050dc085311a20.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-c83bda3d23bc491896050dc085311a20.dmp --hangdump-timeout 5m --reflection
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804564.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804892.diag
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypePerAssemblyFixture
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 27237168
      Scheduling execution of 1 tests
      Starting 1 parallel tests
      Initializing Static Property
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (548ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\c83bda3d23bc491896050dc085311a20.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 1s 885ms
      
      Mode: Reflection
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename f5b96c668b9847dc9c1e2a2c6a011593.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-f5b96c668b9847dc9c1e2a2c6a011593.dmp --hangdump-timeout 5m --reflection
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191808067.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191808410.diag
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypePerAssemblyFixture
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 6715097
      Scheduling execution of 1 tests
      Starting 1 parallel tests
      Initializing Static Property
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (549ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\f5b96c668b9847dc9c1e2a2c6a011593.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 1s 956ms
      
      Mode: Reflection
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 174296c32c8949d9ad9aa257a18b3fda.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-174296c32c8949d9ad9aa257a18b3fda.dmp --hangdump-timeout 5m --reflection
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191811616.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191811937.diag
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypePerAssemblyFixture
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 42472704
      Scheduling execution of 1 tests
      Starting 1 parallel tests
      Initializing Static Property
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (546ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\174296c32c8949d9ad9aa257a18b3fda.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 1s 866ms
      
      Mode: Reflection
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 376a3d31a2fd44f29d18ab94fef6cf06.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-376a3d31a2fd44f29d18ab94fef6cf06.dmp --hangdump-timeout 5m --reflection
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191814961.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191815298.diag
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypePerAssemblyFixture
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 40633064
      Scheduling execution of 1 tests
      Starting 1 parallel tests
      Initializing Static Property
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (542ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\376a3d31a2fd44f29d18ab94fef6cf06.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 1s 861ms
    Error output
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: AfterTestAttributeTests.Test (3s 368ms): Exception: Error asserting results for AfterTestAttributeTests: result => result.ResultSummary.Outcome [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:     should be [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: "Completed" [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:     but was [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: "Failed" [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:     difference [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Difference     |  |    |    |    |    |    |    |    |    |    [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                | \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/   [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Index          | 0    1    2    3    4    5    6    7    8     [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Expected Value | C    o    m    p    l    e    t    e    d     [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Actual Value   | F    a    i    l    e    d                    [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Expected Code  | 67   111  109  112  108  101  116  101  100   [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Actual Code    | 70   97   105  108  101  100                  [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:  [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Expression: [ [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Outcome.ShouldBe("Completed"), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.Total.ShouldBe(1), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.Passed.ShouldBe(1), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.Failed.ShouldBe(0), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.NotExecuted.ShouldBe(0), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 _ => FindFile(x => x.Name.EndsWith("AfterTestAttributeTests.txt")).AssertExists() [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:             ] [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:  [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
  Mode: Reflection
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 376a3d31a2fd44f29d18ab94fef6cf06.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-376a3d31a2fd44f29d18ab94fef6cf06.dmp --hangdump-timeout 5m --reflection
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191814961.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191815298.diag
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypePerAssemblyFixture
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 40633064
  Scheduling execution of 1 tests
  Starting 1 parallel tests
  Initializing Static Property
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (542ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\376a3d31a2fd44f29d18ab94fef6cf06.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 1s 861ms
  
  [+2/x1/?0] TUnit.Engine.Tests.dll (net9.0|x64) - AfterTestAttributeTests.Test (21s)
  
  [+2/x1/?0] TUnit.Engine.Tests.dll (net9.0|x64) - AfterTestAttributeTests.Test (24s)
  
  failed AfterTestAttributeTests.Test (4s 458ms)
    TUnit.Engine.Exceptions.TestFailedException: Exception: Error asserting results for AfterTestAttributeTests: result => result.ResultSummary.Outcome
        should be
    "Completed"
        but was
    "Failed"
        difference
    Difference     |  |    |    |    |    |    |    |    |    |   
                   | \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  
    Index          | 0    1    2    3    4    5    6    7    8    
    Expected Value | C    o    m    p    l    e    t    e    d    
    Actual Value   | F    a    i    l    e    d                   
    Expected Code  | 67   111  109  112  108  101  116  101  100  
    Actual Code    | 70   97   105  108  101  100                 
    
    Expression: [
                    result => result.ResultSummary.Outcome.ShouldBe("Completed"),
                    result => result.ResultSummary.Counters.Total.ShouldBe(1),
                    result => result.ResultSummary.Counters.Passed.ShouldBe(1),
                    result => result.ResultSummary.Counters.Failed.ShouldBe(0),
                    result => result.ResultSummary.Counters.NotExecuted.ShouldBe(0),
                    _ => FindFile(x => x.Name.EndsWith("AfterTestAttributeTests.txt")).AssertExists()
                ]
    --->  Shouldly.ShouldAssertException: result => result.ResultSummary.Outcome
        should be
    "Completed"
        but was
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: AfterTestAttributeTests.Test (4s 458ms): Exception: Error asserting results for AfterTestAttributeTests: result => result.ResultSummary.Outcome [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:     should be [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: "Completed" [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:     but was [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: "Failed" [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:     difference [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Difference     |  |    |    |    |    |    |    |    |    |    [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                | \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/   [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Index          | 0    1    2    3    4    5    6    7    8     [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Expected Value | C    o    m    p    l    e    t    e    d     [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Actual Value   | F    a    i    l    e    d                    [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Expected Code  | 67   111  109  112  108  101  116  101  100   [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Actual Code    | 70   97   105  108  101  100                  [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:  [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed: Expression: [ [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Outcome.ShouldBe("Completed"), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.Total.ShouldBe(1), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.Passed.ShouldBe(1), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.Failed.ShouldBe(0), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 result => result.ResultSummary.Counters.NotExecuted.ShouldBe(0), [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:                 _ => FindFile(x => x.Name.EndsWith("AfterTestAttributeTests.txt")).AssertExists() [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:             ] [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
C:\\git\\TUnit\\TUnit.Engine.Tests\\AfterTestAttributeTests.cs(9): error test failed:  [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
    "Failed"
        difference
    Difference     |  |    |    |    |    |    |    |    |    |   
                   | \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  \|/  
    Index          | 0    1    2    3    4    5    6    7    8    
    Expected Value | C    o    m    p    l    e    t    e    d    
    Actual Value   | F    a    i    l    e    d                   
    Expected Code  | 67   111  109  112  108  101  116  101  100  
    Actual Code    | 70   97   105  108  101  100                 
      at TUnit.Engine.Tests.AfterTestAttributeTests.<>c.<Test>b__1_0(TestRun result) in C:\git\TUnit\TUnit.Engine.Tests\AfterTestAttributeTests.cs:15
      at TUnit.Engine.Tests.TrxAsserter.<>c__DisplayClass0_1.<AssertTrx>b__1(Action`1 x) in C:\git\TUnit\TUnit.Engine.Tests\TrxAsserter.cs:23
      at System.Collections.Generic.List`1.ForEach(Action`1 action)
      at TUnit.Engine.Tests.TrxAsserter.AssertTrx(TestMode testMode, Command command, BufferedCommandResult commandResult, List`1 assertions, String trxFilename, String assertionExpression) in C:\git\TUnit\TUnit.Engine.Tests\TrxAsserter.cs:23
    Standard output
      Mode: SourceGenerated
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename c7a314337e294fb5b2dec12186e89798.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-c7a314337e294fb5b2dec12186e89798.dmp --hangdump-timeout 5m
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804558.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191804888.diag
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypePerAssemblyFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 17713017
      Scheduling execution of 1 tests
      Starting 1 parallel tests
      Initializing Static Property
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (563ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\c7a314337e294fb5b2dec12186e89798.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 2s 904ms
      
      Mode: SourceGenerated
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 2983775147904be49cd823fc01413fde.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-2983775147904be49cd823fc01413fde.dmp --hangdump-timeout 5m
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191809066.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191809413.diag
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypePerAssemblyFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 3766656
      Scheduling execution of 1 tests
      Starting 1 parallel tests
      Initializing Static Property
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (556ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\2983775147904be49cd823fc01413fde.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 2s 948ms
      
      Mode: SourceGenerated
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 6acdfc03ed5a43b68491a6269401ff08.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-6acdfc03ed5a43b68491a6269401ff08.dmp --hangdump-timeout 5m
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191813535.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191813873.diag
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypePerAssemblyFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 62676156
      Scheduling execution of 1 tests
      Initializing Static Property
      Starting 1 parallel tests
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (569ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\6acdfc03ed5a43b68491a6269401ff08.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 2s 958ms
      
      Mode: SourceGenerated
      Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 51bf569d0376453091f45cc817fb5f76.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-51bf569d0376453091f45cc817fb5f76.dmp --hangdump-timeout 5m
      Error: 
      Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191817967.diag
      Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191818281.diag
      Constructing SharedTypeKeyedFixture
      Constructing SharedTypePerPerTestSessionFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypeNoneFixture
      Constructing SharedTypePerClassFixture
      Constructing SharedTypePerAssemblyFixture
      [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 134492
      Scheduling execution of 1 tests
      Starting 1 parallel tests
      Initializing Static Property
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
      failed Test (560ms)
        TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
        --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
        
        but found 0
        
        at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
          at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
          at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
          at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
          at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
          at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
          at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
          --- End of stack trace from previous location ---
          at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
        Standard output
          Before Assembly = 1
          Writing file inside WriteFileAfterTestAttribute!
          [AfterTestSession] Checking disposal...
        Error output
      
        In process file artifacts produced:
          - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\51bf569d0376453091f45cc817fb5f76.trx
      
      Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
        total: 1
        failed: 1
        succeeded: 0
        skipped: 0
        duration: 2s 991ms
    Error output
  Mode: SourceGenerated
  Command Input: dotnet run --no-build -f net9.0 --configuration Release --treenode-filter /*/*/AfterTestAttributeTests/* --report-trx --report-trx-filename 51bf569d0376453091f45cc817fb5f76.trx --diagnostic-verbosity Debug --diagnostic --diagnostic-output-fileprefix log_AfterTestAttributeTests_ --hangdump --hangdump-filename hangdump.Win32NT.tests-51bf569d0376453091f45cc817fb5f76.dmp --hangdump-timeout 5m
  Error: 
  Output: Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191817967.diag
  Diagnostic file (level 'Debug' with async flush): C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\log_AfterTestAttributeTests__250929191818281.diag
  Constructing SharedTypeKeyedFixture
  Constructing SharedTypePerPerTestSessionFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypeNoneFixture
  Constructing SharedTypePerClassFixture
  Constructing SharedTypePerAssemblyFixture
  [DisposableSharedInstance] Created instance 1 (total: 1) - Hash: 134492
  Scheduling execution of 1 tests
  Starting 1 parallel tests
  Initializing Static Property
  Before Assembly = 1
  Writing file inside WriteFileAfterTestAttribute!
  [AfterTestSession] Checking disposal...
  failed Test (560ms)
    TUnit.Engine.Exceptions.TestFailedException: AfterTestSessionException: AfterTestSession hook failed
    --->  TUnit.Assertions.Exceptions.AssertionException: Expected DataClass.DisposeCount to be equal to 1
    
    but found 0
    
    at Assert.That(DataClass.DisposeCount).IsEqualTo(1)
      at TUnit.Assertions.AssertionBuilders.AssertionBuilder.ProcessAssertionsAsync() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\AssertionBuilder.cs:173
      at TUnit.Assertions.AssertionBuilders.InvokableValueAssertionBuilder`1.AssertAndGet() in C:\git\TUnit\TUnit.Assertions\AssertionBuilders\InvokableValueAssertionBuilder.cs:34
      at TUnit.TestProject.Bugs.Bug3219.ClassDataSourceRetryTests.VerifyDisposalAfterTestSession() in C:\git\TUnit\TUnit.TestProject\Bugs\3219\ClassDataSourceRetryTests.cs:79
      at TUnit.Core.AsyncConvert.Convert(Func`1 action) in C:\git\TUnit\TUnit.Core\AsyncConvert.cs:50
      at TUnit.Generated.Hooks.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555Initializer.global_TUnit_TestProject_Bugs_Bug3219_ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_0Params_Body(TestSessionContext context, CancellationToken cancellationToken) in C:\git\TUnit\TUnit.TestProject\SourceGeneratedViewer\TUnit.Core.SourceGenerator\TUnit.Core.SourceGenerator.Generators.HookMetadataGenerator\ClassDataSourceRetryTests_VerifyDisposalAfterTestSession_After_TestSession_fb6cf92151404dc094f309c6811a1555.Hook.g.cs:81
      at TUnit.Engine.Helpers.HookTimeoutHelper.<>c__DisplayClass0_0`1.<<CreateTimeoutHookAction>b__1>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Helpers\HookTimeoutHelper.cs:33
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookCollectionService.<>c__DisplayClass34_0.<<CreateTestSessionHookDelegate>b__0>d.MoveNext() in C:\git\TUnit\TUnit.Engine\Services\HookCollectionService.cs:623
      --- End of stack trace from previous location ---
      at TUnit.Engine.Services.HookExecutor.ExecuteAfterTestSessionHooksAsync(CancellationToken cancellationToken) in C:\git\TUnit\TUnit.Engine\Services\HookExecutor.cs:59
    Standard output
      Before Assembly = 1
      Writing file inside WriteFileAfterTestAttribute!
      [AfterTestSession] Checking disposal...
    Error output
  
    In process file artifacts produced:
      - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TestResults\51bf569d0376453091f45cc817fb5f76.trx
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.TestProject\bin\Release\net9.0\TUnit.TestProject.dll (net9.0|x64)
    total: 1
    failed: 1
    succeeded: 0
    skipped: 0
    duration: 2s 991ms
  
  Failed! - Failed: 2, Passed: 2, Skipped: 0, Total: 4, Duration: 25s 074ms
  
  Test run summary: Failed! - C:\git\TUnit\TUnit.Engine.Tests\bin\Release\net9.0\TUnit.Engine.Tests.dll (net9.0|x64)
    total: 4
    failed: 2
    succeeded: 2
    skipped: 0
    duration: 25s 120ms
C:\git\TUnit\TUnit.Engine.Tests\bin\Release\net9.0\TUnit.Engine.Tests.dll : error run failed: Tests failed: 'C:\git\TUnit\TUnit.Engine.Tests\bin\Release\net9.0\TestResults\TUnit.Engine.Tests_net9.0_x64.log' [net9.0|x64] [C:\git\TUnit\TUnit.Engine.Tests\TUnit.Engine.Tests.csproj::TargetFramework=net9.0]
