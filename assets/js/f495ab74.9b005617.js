"use strict";(globalThis.webpackChunktunit_docs_site=globalThis.webpackChunktunit_docs_site||[]).push([[1859],{12016(e,t,s){s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"test-authoring/test-data-row","title":"Test Data Row Metadata","description":"When using data sources like [MethodDataSource] or [ClassDataSource], you may want to customize individual test cases with specific display names, skip reasons, or categories. TUnit provides the TestDataRow wrapper type for this purpose.","source":"@site/docs/test-authoring/test-data-row.md","sourceDirName":"test-authoring","slug":"/test-authoring/test-data-row","permalink":"/docs/test-authoring/test-data-row","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Injectable Class Data Source","permalink":"/docs/test-authoring/class-data-source"},"next":{"title":"Matrix Tests","permalink":"/docs/test-authoring/matrix-tests"}}');var a=s(74848),i=s(28453);const r={},l="Test Data Row Metadata",o={},c=[{value:"Basic Usage",id:"basic-usage",level:2},{value:"Available Properties",id:"available-properties",level:2},{value:"Display Name Substitution",id:"display-name-substitution",level:2},{value:"Working with Complex Types",id:"working-with-complex-types",level:2},{value:"With Func&lt;T&gt; for Reference Types",id:"with-funct-for-reference-types",level:2},{value:"Skipping Individual Test Cases",id:"skipping-individual-test-cases",level:2},{value:"Categorizing Test Cases",id:"categorizing-test-cases",level:2},{value:"With ClassDataSource",id:"with-classdatasource",level:2},{value:"Universal Data Source Support",id:"universal-data-source-support",level:2},{value:"See Also",id:"see-also",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"test-data-row-metadata",children:"Test Data Row Metadata"})}),"\n",(0,a.jsxs)(t.p,{children:["When using data sources like ",(0,a.jsx)(t.code,{children:"[MethodDataSource]"})," or ",(0,a.jsx)(t.code,{children:"[ClassDataSource]"}),", you may want to customize individual test cases with specific display names, skip reasons, or categories. TUnit provides the ",(0,a.jsx)(t.code,{children:"TestDataRow<T>"})," wrapper type for this purpose."]}),"\n",(0,a.jsx)(t.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,a.jsxs)(t.p,{children:["Wrap your test data in ",(0,a.jsx)(t.code,{children:"TestDataRow<T>"})," to add metadata:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'using TUnit.Core;\n\npublic static class LoginTestData\n{\n    public static IEnumerable<TestDataRow<(string Username, string Password)>> GetCredentials()\n    {\n        yield return new(("admin", "secret123"), DisplayName: "Admin login");\n        yield return new(("guest", "guest"), DisplayName: "Guest login");\n        yield return new(("", ""), DisplayName: "Empty credentials", Skip: "Not implemented yet");\n    }\n}\n\npublic class LoginTests\n{\n    [Test]\n    [MethodDataSource(typeof(LoginTestData), nameof(LoginTestData.GetCredentials))]\n    public async Task TestLogin(string username, string password)\n    {\n        // Test implementation\n    }\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"available-properties",children:"Available Properties"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"TestDataRow<T>"})," provides these optional properties:"]}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Property"}),(0,a.jsx)(t.th,{children:"Type"}),(0,a.jsx)(t.th,{children:"Description"})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"DisplayName"})}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"string?"})}),(0,a.jsx)(t.td,{children:"Custom name shown in test output and IDE"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"Skip"})}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"string?"})}),(0,a.jsx)(t.td,{children:"Skip reason; when set, the test is skipped"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"Categories"})}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"string[]?"})}),(0,a.jsx)(t.td,{children:"Categories for filtering tests"})]})]})]}),"\n",(0,a.jsx)(t.h2,{id:"display-name-substitution",children:"Display Name Substitution"}),"\n",(0,a.jsxs)(t.p,{children:["Display names support parameter substitution using ",(0,a.jsx)(t.code,{children:"$paramName"})," or positional ",(0,a.jsx)(t.code,{children:"$arg1"}),", ",(0,a.jsx)(t.code,{children:"$arg2"})," syntax:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'public static IEnumerable<TestDataRow<(int A, int B, int Expected)>> GetMathData()\n{\n    yield return new((2, 3, 5), DisplayName: "Adding $A + $B = $Expected");\n    yield return new((10, 5, 15), DisplayName: "$arg1 plus $arg2 equals $arg3");\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"The placeholders are replaced with the actual argument values at test discovery time."}),"\n",(0,a.jsx)(t.h2,{id:"working-with-complex-types",children:"Working with Complex Types"}),"\n",(0,a.jsx)(t.p,{children:"For complex objects, wrap the entire object:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'public record UserTestCase(string Email, bool IsAdmin, string ExpectedRole);\n\npublic static class UserTestData\n{\n    public static IEnumerable<TestDataRow<UserTestCase>> GetUserCases()\n    {\n        yield return new(\n            new UserTestCase("admin@test.com", true, "Administrator"),\n            DisplayName: "Admin user gets admin role",\n            Categories: ["Admin", "Roles"]\n        );\n\n        yield return new(\n            new UserTestCase("user@test.com", false, "Standard"),\n            DisplayName: "Regular user gets standard role"\n        );\n    }\n}\n\npublic class UserRoleTests\n{\n    [Test]\n    [MethodDataSource(typeof(UserTestData), nameof(UserTestData.GetUserCases))]\n    public async Task TestUserRole(UserTestCase testCase)\n    {\n        // testCase.Email, testCase.IsAdmin, testCase.ExpectedRole\n    }\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"with-funct-for-reference-types",children:"With Func<T> for Reference Types"}),"\n",(0,a.jsxs)(t.p,{children:["When returning reference types, combine with ",(0,a.jsx)(t.code,{children:"Func<T>"})," to ensure fresh instances:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'public static IEnumerable<TestDataRow<Func<HttpClient>>> GetHttpClients()\n{\n    yield return new(\n        () => new HttpClient { BaseAddress = new Uri("https://api.example.com") },\n        DisplayName: "Production API client"\n    );\n\n    yield return new(\n        () => new HttpClient { BaseAddress = new Uri("https://staging.example.com") },\n        DisplayName: "Staging API client"\n    );\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"skipping-individual-test-cases",children:"Skipping Individual Test Cases"}),"\n",(0,a.jsxs)(t.p,{children:["Use the ",(0,a.jsx)(t.code,{children:"Skip"})," property to skip specific test cases while keeping others active:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'public static IEnumerable<TestDataRow<(string Browser, string Version)>> GetBrowsers()\n{\n    yield return new(("Chrome", "120"), DisplayName: "Chrome latest");\n    yield return new(("Firefox", "121"), DisplayName: "Firefox latest");\n    yield return new(("Safari", "17"), DisplayName: "Safari", Skip: "Safari not installed on CI");\n    yield return new(("Edge", "120"), DisplayName: "Edge latest");\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"categorizing-test-cases",children:"Categorizing Test Cases"}),"\n",(0,a.jsx)(t.p,{children:"Apply categories to individual test cases for filtering:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'public static IEnumerable<TestDataRow<(string Endpoint, string Method)>> GetApiEndpoints()\n{\n    yield return new(\n        ("/users", "GET"),\n        DisplayName: "List users",\n        Categories: ["API", "Users", "ReadOnly"]\n    );\n\n    yield return new(\n        ("/users", "POST"),\n        DisplayName: "Create user",\n        Categories: ["API", "Users", "Write"]\n    );\n\n    yield return new(\n        ("/admin/config", "PUT"),\n        DisplayName: "Update config",\n        Categories: ["API", "Admin", "Write"]\n    );\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Run only specific categories:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'dotnet run -- --filter "Category=Admin"\n'})}),"\n",(0,a.jsx)(t.h2,{id:"with-classdatasource",children:"With ClassDataSource"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"TestDataRow<T>"})," works with ",(0,a.jsx)(t.code,{children:"[ClassDataSource]"})," too:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:'public class DatabaseTestData : IEnumerable<TestDataRow<(string ConnectionString, string DbName)>>\n{\n    public IEnumerator<TestDataRow<(string ConnectionString, string DbName)>> GetEnumerator()\n    {\n        yield return new(\n            ("Server=localhost;Database=TestDb1", "TestDb1"),\n            DisplayName: "Local database"\n        );\n        yield return new(\n            ("Server=remote;Database=TestDb2", "TestDb2"),\n            DisplayName: "Remote database",\n            Skip: "Remote server unavailable"\n        );\n    }\n\n    IEnumerator IEnumerable.GetEnumerator() => GetEnumerator();\n}\n\npublic class DatabaseTests\n{\n    [Test]\n    [ClassDataSource<DatabaseTestData>]\n    public async Task TestDatabaseConnection(string connectionString, string dbName)\n    {\n        // Test implementation\n    }\n}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"universal-data-source-support",children:"Universal Data Source Support"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"TestDataRow<T>"})," works with any data source that implements ",(0,a.jsx)(t.code,{children:"IDataSourceAttribute"}),", including custom data source attributes. TUnit automatically detects and unwraps ",(0,a.jsx)(t.code,{children:"TestDataRow<T>"})," instances, extracting the metadata regardless of the data source type."]}),"\n",(0,a.jsx)(t.h2,{id:"see-also",children:"See Also"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/docs/test-authoring/arguments",children:"Arguments Attribute"})," - For compile-time constant data with inline metadata"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/docs/test-authoring/method-data-source",children:"Method Data Sources"})," - For dynamic test data generation"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/docs/test-authoring/class-data-source",children:"Class Data Sources"})," - For class-based test data"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"/docs/customization-extensibility/display-names",children:"Display Names"})," - For global display name formatting"]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453(e,t,s){s.d(t,{R:()=>r,x:()=>l});var n=s(96540);const a={},i=n.createContext(a);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);