"use strict";(self.webpackChunktunit_docs_site=self.webpackChunktunit_docs_site||[]).push([[2590],{34053:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"extensions/extensions","title":"Extensions","description":"As TUnit is built on top of Microsoft.Testing.Platform, it can tap into generic testing extension packages.","source":"@site/docs/extensions/extensions.md","sourceDirName":"extensions","slug":"/extensions/","permalink":"/docs/extensions/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Libraries","permalink":"/docs/customization-extensibility/libraries"},"next":{"title":"Dynamically Created Tests","permalink":"/docs/experimental/dynamic-tests"}}');var s=t(74848),o=t(28453);const r={},c="Extensions",a={},l=[{value:"Built-In Extensions",id:"built-in-extensions",level:2},{value:"Code Coverage",id:"code-coverage",level:3},{value:"Usage",id:"usage",level:4},{value:"Important: Coverlet Incompatibility \u26a0\ufe0f",id:"important-coverlet-incompatibility-\ufe0f",level:4},{value:"Advanced Configuration",id:"advanced-configuration",level:4},{value:"TRX Test Reports",id:"trx-test-reports",level:3},{value:"Usage",id:"usage-1",level:4},{value:"Telemetry",id:"telemetry",level:3},{value:"Opting Out",id:"opting-out",level:4},{value:"Optional Extensions",id:"optional-extensions",level:2},{value:"Crash Dump",id:"crash-dump",level:2},{value:"Hang Dump",id:"hang-dump",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"extensions",children:"Extensions"})}),"\n",(0,s.jsx)(n.p,{children:"As TUnit is built on top of Microsoft.Testing.Platform, it can tap into generic testing extension packages."}),"\n",(0,s.jsx)(n.h2,{id:"built-in-extensions",children:"Built-In Extensions"}),"\n",(0,s.jsxs)(n.p,{children:["The following extensions are ",(0,s.jsx)(n.strong,{children:"automatically included"})," when you install the ",(0,s.jsx)(n.strong,{children:"TUnit"})," meta package:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Code Coverage"})," - via ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.CodeCoverage"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TRX Test Reports"})," - via ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.TrxReport"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Telemetry"})," - via ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.Telemetry"})]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{title:"Opting Out of Built-In Extensions",type:"tip",children:[(0,s.jsxs)(n.p,{children:["If you don't want these extensions, you can reference ",(0,s.jsx)(n.code,{children:"TUnit.Engine"})," and ",(0,s.jsx)(n.code,{children:"TUnit.Assertions"})," packages separately instead of the ",(0,s.jsx)(n.code,{children:"TUnit"})," meta package."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Instead of the TUnit meta package --\x3e\n<PackageReference Include="TUnit.Engine" Version="x.x.x" />\n<PackageReference Include="TUnit.Assertions" Version="x.x.x" />\n'})})]}),"\n",(0,s.jsx)(n.h3,{id:"code-coverage",children:"Code Coverage"}),"\n",(0,s.jsxs)(n.p,{children:["Code coverage is provided via the ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.CodeCoverage"})," NuGet package."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u2705 Included automatically with the TUnit package"})," - No manual installation needed!"]}),"\n",(0,s.jsx)(n.h4,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(n.p,{children:["Run your tests with the ",(0,s.jsx)(n.code,{children:"--coverage"})," flag:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Basic coverage\ndotnet run --configuration Release --coverage\n\n# Specify output location\ndotnet run --configuration Release --coverage --coverage-output ./coverage/\n\n# Specify output format (cobertura is default)\ndotnet run --configuration Release --coverage --coverage-output-format cobertura\n\n# Multiple formats\ndotnet run --configuration Release --coverage \\\n  --coverage-output-format cobertura \\\n  --coverage-output-format xml\n"})}),"\n",(0,s.jsx)(n.h4,{id:"important-coverlet-incompatibility-\ufe0f",children:"Important: Coverlet Incompatibility \u26a0\ufe0f"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"If you're migrating from xUnit, NUnit, or MSTest:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Remove Coverlet"})," (",(0,s.jsx)(n.code,{children:"coverlet.collector"})," or ",(0,s.jsx)(n.code,{children:"coverlet.msbuild"}),") from your project"]}),"\n",(0,s.jsx)(n.li,{children:"TUnit uses Microsoft.Testing.Platform (not VSTest), which is incompatible with Coverlet"}),"\n",(0,s.jsx)(n.li,{children:"Microsoft.Testing.Extensions.CodeCoverage is the modern replacement and provides the same functionality"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Migration Example:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Remove from your .csproj --\x3e\n<PackageReference Include="coverlet.collector" Version="x.x.x" />\n<PackageReference Include="coverlet.msbuild" Version="x.x.x" />\n\n\x3c!-- Already included with TUnit meta package --\x3e\n<PackageReference Include="TUnit" Version="0.x.x" />\n'})}),"\n",(0,s.jsx)(n.p,{children:"See the migration guides for detailed instructions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/migration/xunit#code-coverage",children:"xUnit Migration Guide - Code Coverage"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/migration/nunit#code-coverage",children:"NUnit Migration Guide - Code Coverage"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/migration/mstest#code-coverage",children:"MSTest Migration Guide - Code Coverage"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"advanced-configuration",children:"Advanced Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["You can customize coverage with a ",(0,s.jsx)(n.code,{children:"testconfig.json"})," file:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"testconfig.json:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "codeCoverage": {\n    "Configuration": {\n      "CodeCoverage": {\n        "ModulePaths": {\n          "Include": [".*\\\\.dll$"],\n          "Exclude": [".*tests\\\\.dll$"]\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Place the ",(0,s.jsx)(n.code,{children:"testconfig.json"})," file in the same directory as your test project. It will be picked up automatically when running tests."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Alternatively, you can use an XML coverage settings file:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dotnet run --configuration Release --coverage --coverage-settings coverage.config\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\ud83d\udcda More Resources:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-platform-extensions-code-coverage",children:"Microsoft's Code Coverage Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-code-coverage",children:"Unit Testing Code Coverage Guide"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"trx-test-reports",children:"TRX Test Reports"}),"\n",(0,s.jsxs)(n.p,{children:["TRX reports are provided via the ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.TrxReport"})," NuGet package."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u2705 Included automatically with the TUnit package"})," - No manual installation needed!"]}),"\n",(0,s.jsx)(n.h4,{id:"usage-1",children:"Usage"}),"\n",(0,s.jsxs)(n.p,{children:["Run your tests with the ",(0,s.jsx)(n.code,{children:"--report-trx"})," flag:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Generate TRX report\ndotnet run --configuration Release --report-trx\n\n# Specify output location\ndotnet run --configuration Release --results-directory ./reports --report-trx --report-trx-filename testresults.trx\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\ud83d\udcda More Resources:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-platform-extensions-test-reports",children:"Microsoft's TRX Report Documentation"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"telemetry",children:"Telemetry"}),"\n",(0,s.jsxs)(n.p,{children:["Telemetry is provided via the ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.Telemetry"})," NuGet package."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u2705 Included automatically with the TUnit package"})}),"\n",(0,s.jsx)(n.p,{children:"This extension enables Microsoft to collect anonymous usage metrics to help improve the testing platform. No personal data or source code is collected."}),"\n",(0,s.jsx)(n.h4,{id:"opting-out",children:"Opting Out"}),"\n",(0,s.jsx)(n.p,{children:"You can disable telemetry by setting an environment variable:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Linux/macOS\nexport TESTINGPLATFORM_TELEMETRY_OPTOUT=1\n\n# Windows\nset TESTINGPLATFORM_TELEMETRY_OPTOUT=1\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Alternatively, you can use ",(0,s.jsx)(n.code,{children:"DOTNET_CLI_TELEMETRY_OPTOUT=1"})," which also disables .NET SDK telemetry."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\ud83d\udcda More Resources:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dotnet/core/testing/microsoft-testing-platform-telemetry",children:"Microsoft.Testing.Platform Telemetry Documentation"})}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"optional-extensions",children:"Optional Extensions"}),"\n",(0,s.jsxs)(n.p,{children:["These extensions are ",(0,s.jsx)(n.strong,{children:"not"})," included with the TUnit package and must be installed manually if needed."]}),"\n",(0,s.jsx)(n.h2,{id:"crash-dump",children:"Crash Dump"}),"\n",(0,s.jsxs)(n.p,{children:["Crash dump is an extension to help diagnose unexplained crashes, provided via the ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.CrashDump"})," NuGet package."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-platform-extensions-diagnostics",children:"More information can be found here"})}),"\n",(0,s.jsx)(n.h2,{id:"hang-dump",children:"Hang Dump"}),"\n",(0,s.jsxs)(n.p,{children:["Hang dump is an extension to help diagnose unexplained hanging in your test suite, provided via the ",(0,s.jsx)(n.code,{children:"Microsoft.Testing.Extensions.HangDump"})," NuGet package."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/dotnet/core/testing/unit-testing-platform-extensions-diagnostics",children:"More information can be found here"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var i=t(96540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);