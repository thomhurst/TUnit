"use strict";(self.webpackChunktunit_docs_site=self.webpackChunktunit_docs_site||[]).push([[8070],{7208:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"faq","title":"FAQ","description":"My test project won\'t execute / I get errors about runtime identifiers?","source":"@site/docs/faq.md","sourceDirName":".","slug":"/faq","permalink":"/docs/faq","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Congratulations!","permalink":"/docs/getting-started/congratulations"},"next":{"title":"Troubleshooting Guide","permalink":"/docs/troubleshooting"}}');var i=s(4848),r=s(8453);const o={},a="FAQ",c={},l=[{value:"My test project won&#39;t execute / I get errors about runtime identifiers?",id:"my-test-project-wont-execute--i-get-errors-about-runtime-identifiers",level:3},{value:"My project runs but no tests are discovered or executed?",id:"my-project-runs-but-no-tests-are-discovered-or-executed",level:3},{value:"I&#39;m getting errors about conflicting main methods?",id:"im-getting-errors-about-conflicting-main-methods",level:3},{value:"I can&#39;t see any tests in my IDE?",id:"i-cant-see-any-tests-in-my-ide",level:3},{value:"Why do I have to await all assertions? Can I use synchronous assertions?",id:"why-do-i-have-to-await-all-assertions-can-i-use-synchronous-assertions",level:3},{value:"Does TUnit work with Coverlet for code coverage?",id:"does-tunit-work-with-coverlet-for-code-coverage",level:3},{value:"How do I get code coverage in TUnit?",id:"how-do-i-get-code-coverage-in-tunit",level:3},{value:"My code coverage stopped working after migrating to TUnit. What do I do?",id:"my-code-coverage-stopped-working-after-migrating-to-tunit-what-do-i-do",level:3},{value:"What code coverage tool should I use with TUnit?",id:"what-code-coverage-tool-should-i-use-with-tunit",level:3},{value:"Why don&#39;t my coverage files get generated?",id:"why-dont-my-coverage-files-get-generated",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"faq",children:"FAQ"})}),"\n",(0,i.jsx)(n.h3,{id:"my-test-project-wont-execute--i-get-errors-about-runtime-identifiers",children:"My test project won't execute / I get errors about runtime identifiers?"}),"\n",(0,i.jsxs)(n.p,{children:["Make sure that your ",(0,i.jsx)(n.code,{children:"OutputType"})," is set to ",(0,i.jsx)(n.code,{children:"exe"})," in your csproj"]}),"\n",(0,i.jsx)(n.h3,{id:"my-project-runs-but-no-tests-are-discovered-or-executed",children:"My project runs but no tests are discovered or executed?"}),"\n",(0,i.jsxs)(n.p,{children:["Ensure you're not installing the old ",(0,i.jsx)(n.code,{children:"Microsoft.NET.Test.Sdk"})," NuGet package"]}),"\n",(0,i.jsx)(n.h3,{id:"im-getting-errors-about-conflicting-main-methods",children:"I'm getting errors about conflicting main methods?"}),"\n",(0,i.jsxs)(n.p,{children:["Ensure you're not installing the old ",(0,i.jsx)(n.code,{children:"Microsoft.NET.Test.Sdk"})," NuGet package"]}),"\n",(0,i.jsx)(n.h3,{id:"i-cant-see-any-tests-in-my-ide",children:"I can't see any tests in my IDE?"}),"\n",(0,i.jsx)(n.p,{children:"Make sure you've enabled Testing Platform support in your IDE's settings.\nCurrently, TUnit is best supported in Visual Studio 2022 (v17.9+) and JetBrains Rider (2024.1+)."}),"\n",(0,i.jsx)(n.h3,{id:"why-do-i-have-to-await-all-assertions-can-i-use-synchronous-assertions",children:"Why do I have to await all assertions? Can I use synchronous assertions?"}),"\n",(0,i.jsx)(n.p,{children:"All TUnit assertions must be awaited. There's no synchronous alternative."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Important:"})," Test methods themselves can be either synchronous (",(0,i.jsx)(n.code,{children:"void"}),") or asynchronous (",(0,i.jsx)(n.code,{children:"async Task"}),"). However, if your test uses TUnit's assertion library (",(0,i.jsx)(n.code,{children:"Assert.That(...)"}),"), the test method ",(0,i.jsx)(n.strong,{children:"must"})," be ",(0,i.jsx)(n.code,{children:"async Task"})," because assertions return awaitable objects that must be awaited to execute. Tests without assertions can remain synchronous. See ",(0,i.jsx)(n.a,{href:"/docs/getting-started/writing-your-first-test#test-method-signatures",children:"Test Method Signatures"})," for examples."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Why this design?"})}),"\n",(0,i.jsxs)(n.p,{children:["TUnit's assertion library uses the awaitable pattern (custom objects with ",(0,i.jsx)(n.code,{children:"GetAwaiter()"})," methods). This means:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Assertions don't execute until they're awaited - this is when the actual verification happens"}),"\n",(0,i.jsx)(n.li,{children:"All assertions work consistently, whether they're simple value checks or complex async operations"}),"\n",(0,i.jsx)(n.li,{children:"Custom assertions can perform async work (like database queries or HTTP calls)"}),"\n",(0,i.jsx)(n.li,{children:"No sync-over-async patterns that cause deadlocks"}),"\n",(0,i.jsx)(n.li,{children:"Assertions can be chained fluently before execution"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What this means when migrating:"})}),"\n",(0,i.jsxs)(n.p,{children:["You need to convert your tests to ",(0,i.jsx)(n.code,{children:"async Task"})," and add ",(0,i.jsx)(n.code,{children:"await"})," before assertions."]}),"\n",(0,i.jsx)(n.p,{children:"Before (xUnit/NUnit/MSTest):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"[Test]\npublic void MyTest()\n{\n    var result = Calculate(2, 3);\n    Assert.Equal(5, result);\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"After (TUnit):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"[Test]\npublic async Task MyTest()\n{\n    var result = Calculate(2, 3);\n    await Assert.That(result).IsEqualTo(5);\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Automated migration"})}),"\n",(0,i.jsx)(n.p,{children:"TUnit includes code fixers that handle most of this conversion for you:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# For xUnit\ndotnet format analyzers --severity info --diagnostics TUXU0001\n\n# For NUnit\ndotnet format analyzers --severity info --diagnostics TUNU0001\n\n# For MSTest\ndotnet format analyzers --severity info --diagnostics TUMS0001\n"})}),"\n",(0,i.jsx)(n.p,{children:"The code fixer converts test methods to async, adds await to assertions, and updates attribute names. It handles most common cases automatically, though you may need to adjust complex scenarios manually."}),"\n",(0,i.jsx)(n.p,{children:"See the migration guides for step-by-step instructions:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/migration/xunit#automated-migration-with-code-fixers",children:"xUnit migration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/migration/nunit#automated-migration-with-code-fixers",children:"NUnit migration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/migration/mstest#automated-migration-with-code-fixers",children:"MSTest migration"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What you gain"})}),"\n",(0,i.jsx)(n.p,{children:"Async assertions enable patterns that aren't possible with synchronous assertions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'[Test]\npublic async Task AsyncAssertion_Example()\n{\n    // Await async operations in assertions\n    await Assert.That(async () => await GetUserAsync(123))\n        .Throws<UserNotFoundException>();\n\n    // Chain assertions naturally\n    var user = await GetUserAsync(456);\n    await Assert.That(user.Email)\n        .IsNotNull()\n        .And.Contains("@example.com");\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Watch out for missing awaits"})}),"\n",(0,i.jsxs)(n.p,{children:["The most common mistake is forgetting ",(0,i.jsx)(n.code,{children:"await"}),". The compiler warns you, but the test will pass without actually running the assertion:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:"// Wrong - test passes without checking anything\nAssert.That(result).IsEqualTo(5);  // Returns an awaitable object that's never executed\n\n// Correct\nawait Assert.That(result).IsEqualTo(5);  // The await triggers the actual assertion execution\n"})}),"\n",(0,i.jsx)(n.h3,{id:"does-tunit-work-with-coverlet-for-code-coverage",children:"Does TUnit work with Coverlet for code coverage?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"No."})," Coverlet (",(0,i.jsx)(n.code,{children:"coverlet.collector"})," or ",(0,i.jsx)(n.code,{children:"coverlet.msbuild"}),") is ",(0,i.jsx)(n.strong,{children:"not compatible"})," with TUnit."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Why?"})," TUnit uses the modern ",(0,i.jsx)(n.code,{children:"Microsoft.Testing.Platform"})," instead of the legacy VSTest platform. Coverlet only works with VSTest."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Solution:"})," Use ",(0,i.jsx)(n.code,{children:"Microsoft.Testing.Extensions.CodeCoverage"})," instead, which is:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Automatically included"})," with the TUnit meta package"]}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Provides the same functionality as Coverlet"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Outputs Cobertura and XML formats"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Works with all major CI/CD systems"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/docs/extensions/#code-coverage",children:"Code Coverage documentation"})," for usage instructions."]}),"\n",(0,i.jsx)(n.h3,{id:"how-do-i-get-code-coverage-in-tunit",children:"How do I get code coverage in TUnit?"}),"\n",(0,i.jsxs)(n.p,{children:["Code coverage is ",(0,i.jsx)(n.strong,{children:"built-in"})," and automatically included with the TUnit package!"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Basic usage:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dotnet run --configuration Release --coverage\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"With output location:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dotnet run --configuration Release --coverage --coverage-output ./coverage/\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Specify format (cobertura, xml, etc.):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dotnet run --configuration Release --coverage --coverage-output-format cobertura\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/docs/extensions/#code-coverage",children:"Code Coverage documentation"})," for advanced configuration."]}),"\n",(0,i.jsx)(n.h3,{id:"my-code-coverage-stopped-working-after-migrating-to-tunit-what-do-i-do",children:"My code coverage stopped working after migrating to TUnit. What do I do?"}),"\n",(0,i.jsx)(n.p,{children:"This typically happens if you still have Coverlet packages installed."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Fix:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Remove Coverlet"})," from your ",(0,i.jsx)(n.code,{children:".csproj"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'\x3c!-- Remove these lines --\x3e\n<PackageReference Include="coverlet.collector" Version="x.x.x" />\n<PackageReference Include="coverlet.msbuild" Version="x.x.x" />\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Ensure you're using the TUnit meta package"})," (not just TUnit.Core):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<PackageReference Include="TUnit" Version="0.x.x" />\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Update your commands"})," to use the new coverage flags:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Old (VSTest + Coverlet)\ndotnet test --collect:"XPlat Code Coverage"\n\n# New (TUnit + Microsoft Coverage)\ndotnet run --configuration Release --coverage\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Update CI/CD pipelines"})," to use the new commands"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"See the migration guides for detailed instructions:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/migration/xunit#code-coverage",children:"xUnit Migration - Code Coverage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/migration/nunit#code-coverage",children:"NUnit Migration - Code Coverage"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/migration/mstest#code-coverage",children:"MSTest Migration - Code Coverage"})}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"what-code-coverage-tool-should-i-use-with-tunit",children:"What code coverage tool should I use with TUnit?"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.strong,{children:"Microsoft.Testing.Extensions.CodeCoverage"}),", which is:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Already included"})," with the TUnit package (no manual installation)"]}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Built and maintained by Microsoft"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Works seamlessly with Microsoft.Testing.Platform"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Outputs industry-standard formats (Cobertura, XML)"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Compatible with all major CI/CD systems and coverage viewers"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Do not use:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c Coverlet (incompatible with Microsoft.Testing.Platform)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"why-dont-my-coverage-files-get-generated",children:"Why don't my coverage files get generated?"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common causes:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Using TUnit.Engine only"})," (without the TUnit meta package)"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The TUnit meta package includes the coverage extension automatically"}),"\n",(0,i.jsxs)(n.li,{children:["If using TUnit.Engine directly, you must manually install ",(0,i.jsx)(n.code,{children:"Microsoft.Testing.Extensions.CodeCoverage"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Older .NET SDK versions"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure you have a recent .NET SDK installed"}),"\n",(0,i.jsx)(n.li,{children:"The Microsoft.Testing.Platform and extensions support .NET Standard 2.0+"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/docs/troubleshooting#code-coverage-issues",children:"Code Coverage Troubleshooting"})," for more solutions."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(6540);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);