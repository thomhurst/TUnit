"use strict";(self.webpackChunktunit_docs_site=self.webpackChunktunit_docs_site||[]).push([[5341],{3571:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"examples/filebased-csharp","title":"File based C# application","description":"application","source":"@site/docs/examples/filebased-csharp.md","sourceDirName":"examples","slug":"/examples/filebased-csharp","permalink":"/docs/examples/filebased-csharp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"F# Interactive","permalink":"/docs/examples/fsharp-interactive"},"next":{"title":"Framework Differences","permalink":"/docs/comparison/framework-differences"}}');var t=s(4848),a=s(8453);const r={},l="File based C# application",c={},o=[{value:"Using File-Based C# Application with TUnit",id:"using-file-based-c-application-with-tunit",level:2},{value:"Using msbuild props with File-Based C# Application",id:"using-msbuild-props-with-file-based-c-application",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"file-based-c-application",children:"File based C# application"})}),"\n",(0,t.jsx)(n.p,{children:"Starting with dotnet 10 (preview 4), you can use the new file-based C# application feature to run tests in a more straightforward way."}),"\n",(0,t.jsx)(n.h2,{id:"using-file-based-c-application-with-tunit",children:"Using File-Based C# Application with TUnit"}),"\n",(0,t.jsx)(n.p,{children:"To use TUnit with a file-based C# application, you can follow these steps:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Create a new C# file"}),": Create a new file with a ",(0,t.jsx)(n.code,{children:".cs"})," extension, for example, ",(0,t.jsx)(n.code,{children:"Program.cs"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Add TUnit to your project"}),": You can add TUnit as a package reference in your file. At the top of your ",(0,t.jsx)(n.code,{children:"Program.cs"}),", add the following line:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"#:package TUnit@0.*\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Alternatively, you can specify a specific version:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"#:package TUnit@0.25.0\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["You can also use msbuild props files to include TUnit. By creating a ",(0,t.jsx)(n.code,{children:"Directory.build.props"})," file in the same directory as the csharp file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<Project>\n    <ItemGroup>\n        <PackageReference Include="TUnit" Version="*" />\n    </ItemGroup>\n</Project>\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Write your tests"}),": You can write your tests in the same way you would in a regular C# project. For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'#:package TUnit@0.*\n\nusing TUnit;\npublic class Tests\n{\n    [Test]\n    public void Basic()\n    {\n        Console.WriteLine("This is a basic test");\n    }\n\n    [Test]\n    [Arguments(1, 2, 3)]\n    [Arguments(2, 3, 5)]\n    public async Task DataDrivenArguments(int a, int b, int c)\n    {\n        Console.WriteLine("This one can accept arguments from an attribute");\n        var result = a + b;\n        await Assert.That(result).IsEqualTo(c);\n    }\n\n}\n\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Run your tests"}),": You can run your tests by executing the script using ",(0,t.jsx)(n.code,{children:"dotnet run"}),". The results will be printed to the console.\nTo run the script, you can use the following command"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:"dotnet run Program.cs\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If you need to convert the file based application to a regular C# project, you can run the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:"dotnet project convert Program.cs\n"})}),"\n",(0,t.jsx)(n.h2,{id:"using-msbuild-props-with-file-based-c-application",children:"Using msbuild props with File-Based C# Application"}),"\n",(0,t.jsxs)(n.p,{children:["Single file csharp applications can also be used with msbuild props files. You can create a ",(0,t.jsx)(n.code,{children:"*.props"})," file and the dotnet sdk will automatically include it when running the file-based application."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Create a file named ",(0,t.jsx)(n.code,{children:"Directory.build.props"})," with the following content:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<Project>\n    <ItemGroup>\n    <PackageReference Include="TUnit" Version="*" />\n    </ItemGroup>\n</Project>\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Create a csharp file with the following content:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'using TUnit;\npublic class Tests\n{\n    [Test]\n    public void Basic()\n    {\n        Console.WriteLine("This is a basic test");\n    }\n\n    [Test]\n    [Arguments(1, 2, 3)]\n    [Arguments(2, 3, 5)]\n    public async Task DataDrivenArguments(int a, int b, int c)\n    {\n        Console.WriteLine("This one can accept arguments from an attribute");\n        var result = a + b;\n        await Assert.That(result).IsEqualTo(c);\n    }\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Run the script using the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-powershell",children:"dotnet run file.cs\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This will automatically include the ",(0,t.jsx)(n.code,{children:"Directory.build.props"})," file as long as it is in the same directory as the csharp file, and you will be able to run your tests with TUnit."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const t={},a=i.createContext(t);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);